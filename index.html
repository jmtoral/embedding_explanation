<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embeddings & Agentes ReAct Explicados</title>
    <meta name="description"
        content="Visualizaci칩n interactiva para entender tokens, embeddings y arquitectura de agentes ReAct.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Background Elements -->
    <div class="bg-blob blob-1"></div>
    <div class="bg-blob blob-2"></div>
    <div class="bg-blob blob-3"></div>

    <div class="container">
        <header>
            <h1>Entendiendo la IA: De Tokens a <span class="gradient-text">Agentes ReAct</span></h1>
            <p class="subtitle">Una exploraci칩n visual sobre c칩mo las m치quinas procesan informaci칩n y toman decisiones.
            </p>
        </header>

        <nav class="tabs-nav">
            <button class="tab-btn active" data-target="tab-embeddings">
                <span class="icon">游댌</span>
                <span class="text">1. Tokens a Embeddings</span>
            </button>
            <button class="tab-btn" data-target="tab-distance">
                <span class="icon">游꿢</span>
                <span class="text">2. Precisi칩n Vectorial</span>
            </button>
            <button class="tab-btn" data-target="tab-react">
                <span class="icon">游뱄</span>
                <span class="text">3. Ciclo ReAct</span>
            </button>
            <button class="tab-btn" data-target="tab-costs">
                <span class="icon">游눯</span>
                <span class="text">4. An치lisis de Costos</span>
            </button>
        </nav>

        <main class="content-area glass-panel">
            <!-- Tab 1: Embeddings -->
            <section id="tab-embeddings" class="tab-content active">
                <div class="section-header">
                    <h2>Compresi칩n Sem치ntica</h2>
                    <p>쯈u칠 pasa cuando metemos muchos tokens en un vector de tama침o fijo?</p>
                </div>

                <div class="interactive-layout">
                    <div class="controls-panel">
                        <div class="control-group">
                            <label for="tokens-slider">Cantidad de Tokens (Texto Origen): <span id="tokens-value"
                                    class="highlight">100</span></label>
                            <input type="range" id="tokens-slider" min="10" max="1000" step="10" value="100">
                            <div class="slider-marks">
                                <span>Poco (Nicho)</span>
                                <span>Mucho (Ruido)</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="dim-slider">Dimensi칩n del Vector (El Contenedor): <span id="dim-value"
                                    class="highlight">50</span></label>
                            <input type="range" id="dim-slider" min="50" max="1536" step="1" value="50">
                            <div class="slider-marks">
                                <span>50</span>
                                <span>768</span>
                                <span>1536</span>
                            </div>
                        </div>

                        <div class="stats-card">
                            <div class="stat-item">
                                <span class="stat-label">Densidad de Informaci칩n</span>
                                <div class="progress-bar-container">
                                    <div id="density-bar" class="progress-bar"></div>
                                </div>
                                <span id="density-text" class="stat-value">Adecuada</span>
                            </div>
                            <p class="explanation-text" id="embedding-explanation">
                                Al meter pocos tokens en este vector, la representaci칩n mantiene alta resoluci칩n
                                sem치ntica.
                            </p>
                        </div>
                    </div>

                    <div class="visualization-panel">
                        <div class="funnel-container">
                            <div class="tokens-source" id="tokens-source">
                                <!-- Tokens here -->
                            </div>
                            <div class="funnel">
                                <div class="funnel-path"></div>
                            </div>
                            <div class="vector-dest" id="vector-dest">
                                <!-- Vector cells here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Tab 2: Distance -->
            <section id="tab-distance" class="tab-content">
                <div class="section-header">
                    <h2>Precisi칩n y Distancia Vectorial</h2>
                    <p>Mismo tama침o de vector no significa misma precisi칩n de b칰squeda.</p>
                </div>

                <div class="interactive-layout">
                    <div class="controls-panel">
                        <p class="instruction">Haz clic en el 치rea brillante para buscar un concepto simulado (游꿢).</p>

                        <div class="scenario-toggles">
                            <button class="scenario-btn active" data-scenario="small">Chunks Peque침os (100
                                tokens)</button>
                            <button class="scenario-btn" data-scenario="large">Chunks Grandes (1,000 tokens)</button>
                        </div>

                        <div class="info-card mt-2">
                            <h3 id="scenario-title">Precisi칩n Alta</h3>
                            <p id="scenario-desc">Los chunks peque침os enfocan el significado. Al buscar, es f치cil
                                encontrar el documento exacto porque los vectores est치n bien diferenciados.</p>
                        </div>
                    </div>

                    <div class="visualization-panel canvas-container">
                        <canvas id="vector-canvas" width="500" height="400"></canvas>
                        <div class="legend">
                            <span class="legend-item"><span class="dot query"></span> Tu B칰squeda</span>
                            <span class="legend-item"><span class="dot doc"></span> Chunks</span>
                            <span class="legend-item"><span class="line-legend"></span> Distancia</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Tab 3: ReAct -->
            <section id="tab-react" class="tab-content">
                <div class="section-header">
                    <h2>La Arquitectura ReAct</h2>
                    <p>Por qu칠 el tama침o del chunk afecta la "s칤ntesis" y el razonamiento del agente.</p>
                </div>

                <div class="react-layout">
                    <div class="react-controls">
                        <button class="action-btn" id="run-react-small">Simular con Chunk Peque침o</button>
                        <button class="action-btn secondary" id="run-react-large">Simular con Chunk Grande</button>
                    </div>

                    <div class="react-flow-container">
                        <svg class="react-svg" viewBox="0 0 800 300">
                            <!-- Conexiones -->
                            <path class="flow-path" d="M 120 150 L 250 150" id="path-1" />
                            <path class="flow-path" d="M 350 150 L 480 150" id="path-2" />
                            <path class="flow-path" d="M 580 150 L 710 150" id="path-3" />
                            <path class="flow-path return-path" d="M 760 180 C 760 260, 530 260, 530 180"
                                id="path-return" />

                            <!-- Nodos -->
                            <g class="node user-node" transform="translate(70, 150)">
                                <circle r="40" />
                                <text y="5" text-anchor="middle">Pregunta</text>
                            </g>

                            <g class="node action-node" transform="translate(300, 150)">
                                <circle r="40" />
                                <text y="-5" text-anchor="middle">Act</text>
                                <text y="15" text-anchor="middle" class="sub-text">(B칰squeda)</text>
                            </g>

                            <g class="node obs-node" transform="translate(530, 150)">
                                <circle r="50" class="pulse-circle" />
                                <text y="-10" text-anchor="middle">Observation</text>
                                <text y="10" text-anchor="middle" class="sub-text">(Contexto recuperado)</text>
                            </g>

                            <g class="node reason-node" transform="translate(760, 150)">
                                <rect x="-45" y="-45" width="90" height="90" rx="15" />
                                <text y="-5" text-anchor="middle">Reason</text>
                                <text y="15" text-anchor="middle" class="sub-text">(S칤ntesis)</text>
                            </g>

                            <!-- Indicador animado -->
                            <circle id="flow-dot" r="8" fill="#00ffcc" opacity="0" />
                        </svg>

                        <div class="agent-thoughts">
                            <h4 class="terminal-header">>_ Terminal del Agente ReAct</h4>
                            <div id="terminal-output" class="terminal-content">
                                Esperando simulaci칩n...
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Tab 4: Costs -->
            <section id="tab-costs" class="tab-content">
                <div class="section-header">
                    <h2>An치lisis de Costos: El Trade-off Oculto</h2>
                    <p>쯈u칠 pasa con tu Vector Database si usas chunks peque침os (100 tokens) pero vectores gigantes
                        (Modelos LLM de 1536+)?</p>
                </div>

                <div class="cost-layout interactive-layout">
                    <div class="controls-panel">
                        <p class="instruction" style="margin-bottom: 1.5rem;">Simulador para una Base de Datos de 100
                            Millones de Tokens (Ej: Recetas globales de saborizantes The Coca-Cola Co.).</p>

                        <div class="scenario-toggles" style="flex-direction: column; gap: 0.5rem;">
                            <button class="scenario-btn active" data-cost-scenario="balanced">
                                <strong>Equilibrio (768 Dim / 500 Tokens)</strong><br />
                                <small>El est치ndar de la industria</small>
                            </button>
                            <button class="scenario-btn" data-cost-scenario="expensive">
                                <strong>Alto Costo (1536 Dim / 100 Tokens)</strong><br />
                                <small>M치xima precisi칩n en nicho</small>
                            </button>
                            <button class="scenario-btn" data-cost-scenario="cheap">
                                <strong>Econ칩mico (50 Dim / 1000 Tokens)</strong><br />
                                <small>Ruido sem치ntico, pero muy barato</small>
                            </button>
                        </div>

                        <div class="cost-breakdown mt-2 stats-card">
                            <div class="cost-row"
                                style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Total de Vectores Guardados:</span>
                                <strong id="cost-chunks-total" class="highlight"
                                    style="color:var(--text-primary)">200,000</strong>
                            </div>
                            <div class="cost-row"
                                style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Total Almacenamiento RAM (Pinecone):</span>
                                <strong id="cost-vector-size" style="color:var(--text-primary)">600 MB</strong>
                            </div>
                            <div class="cost-row summary-row"
                                style="display: flex; justify-content: space-between; margin-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1rem;">
                                <span style="font-weight: 600;">Costo API Estimado (Indexar):</span>
                                <strong id="cost-monthly-price" class="gradient-text"
                                    style="font-size: 1.2rem;">$10.00</strong>
                            </div>
                        </div>
                    </div>

                    <div class="visualization-panel" style="flex-direction: column; gap: 2rem;">
                        <h3 id="cost-eval-title" style="margin-bottom: 1rem;">Evaluaci칩n de Balance</h3>

                        <div style="width: 100%;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.85rem; color: var(--text-secondary)">Impacto en Memoria y
                                    Storage</span>
                                <span id="hardware-val"
                                    style="font-size: 0.85rem; font-weight: bold; color: #f59e0b">Medio</span>
                            </div>
                            <div class="progress-bar-container"
                                style="height: 12px; background: rgba(255,255,255,0.05);">
                                <div id="hardware-meter" class="progress-bar" style="width: 30%;"></div>
                            </div>
                        </div>

                        <div style="width: 100%;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.85rem; color: var(--text-secondary)">Latencia de B칰squeda de
                                    Vectores</span>
                                <span id="latency-val"
                                    style="font-size: 0.85rem; font-weight: bold; color: #f59e0b">Media</span>
                            </div>
                            <div class="progress-bar-container"
                                style="height: 12px; background: rgba(255,255,255,0.05);">
                                <div id="latency-meter" class="progress-bar" style="width: 30%;"></div>
                            </div>
                        </div>

                        <div class="info-card"
                            style="width: 100%; border-left-color: #ef4444; background: rgba(239, 68, 68, 0.1);">
                            <p id="cost-conclusion" style="font-size: 0.95rem; line-height: 1.5; color: #cbd5e1;">
                                Es un <strong>balance</strong>. Menos vectores significan b칰squedas m치s r치pidas y menos
                                uso de RAM premium en Vector DBs ($), aunque se sacrifica precisi칩n en consultas muy
                                espec칤ficas de ingredientes raros.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>